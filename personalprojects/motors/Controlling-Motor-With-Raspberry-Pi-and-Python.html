<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Controlling Motor With Raspberry Pi And Python - Rohan&#8217;s Coding Blog</title>
<meta name="description" content="Controlling a Single Motor using a Raspberry Pi and Python  In this lesson, we’re going see how we can control a DC motor using a Raspberry Pi and Python.  What is a Raspberry Pi?     “The Raspberry Pi is a low cost, credit-card sized computer that plugs into a computer monitor or TV, and uses a standard keyboard and mouse. It is a capable little device that enables people of all ages to explore computing, and to learn how to program in languages like Scratch and Python.” –Raspberry Pi Foundation   In short, a Raspberry Pi is a tiny computer that allows us to connect external hardware and integrate them using software.  Getting Started  Items Needed  For this project, I will be using the following items:    Raspberry Pi Model B running Raspbian   L298N Motor Drive Board   Bread Board   5V DC Motor   12V Power Supply   Jumper Cables   While you do not need exactly what I have, I recommend getting the L298N chip already on a PCB as it saves time and spares us from having to wire up the circuit ourselves.  Wiring  Before we can get to programing the motor, we must first wire up the device. We Can begin with the L298N Board.  For the L298N chip, we are only concerned about 6 pins for now. Those six include:    GND   In 3   In 4   12V   +   -      In this picture, the Brown wire and the Purple wire are both connected to GND, the Grey wire is connected to the 12V pin, the Red and Black wires are connected to + and - respectively, and the Blue and White wires are connected to pins In 3 and In 4.  On the Bread Board, we can connect the positive and negative ends of the power supply into their respective lines on the breadboard along with the leads from the pins of the L298N chip.    On the far right, the Grey(Positive) and White(Negative) wires are coming from the power supply and the far purple(Negative) and Grey(Positive) are coming from the L298N Chip.  Now we can wire up the motor to the board. Connect the Red(Positive) and Black(Negative) wires from the L298N to the motor leads.    Finally, we can wire up the Raspberry Pi to the rest of the circuit. Before we do so, lets look at the pin structure on the Pi.    Courtesy of the Raspberry Pi Foundation   The pins of the Raspberry Pi are numbered from 1 to 40 starting at the top left and increasing by 1 going to the right. Together, these pins are known as GPIO pins (General Purpose Input/Output Pins).  Each pin has a different purpose, but we’re going to only use pins 7, 11, and 39.  Pins 7 and 11 are going to be used to output a signal to the L298N Chip, and Pin 39 is a grounding pin, which will be connected to the same ground as the L298N Chip.    In the image above, the White wire is connected to Pin 7, the Blue wire is connected to Pin 11, and the Brown wire is connected to Pin 39.  Now that we are done with the wiring, we can start coding!  Programming the Raspberry Pi  To program our motor, we are going to use Python. If you are unfamiliar with the Python Programming language, feel free to visit my tutorial found here.  Our friend in this part will the the RPi.GPIO module.  Disclaimer : The Raspberry Pi foundation recommends using bespoke modules for specific hardware. Since we are trying to learn how to use GPIO pins to interface with any external sensors and motors, we will use the old way of interfacing with them.  We can consider using Object Oriented design when implementing our motors. In other words, our motor will be represented by a class.  In a file called motor.py, we will have the following code:  import RPi.GPIO as GPIO # Allows us to interface with the GPIO pins  class Motor:     # sets 2GPIO pins for clockwise and counter clockwise      def __init__(self, F, B):         self.pinFwd = F         self.pinBwd = B          GPIO.setmode(GPIO.BOARD) # Sets the pins to use the Board Numbering          GPIO.setup(self.pinFwd, GPIO.OUT) # Sets pin 1         GPIO.setup(self.pinBwd, GPIO.OUT) # Sets pin 2      def __del__(self):         # Destructor cleans up any open pins         GPIO.cleanup()       def forward(self):         # Sets pin 1 to ON and pin 2 to OFF         GPIO.output(self.pinFwd, GPIO.HIGH)         GPIO.output(self.pinBwd, GPIO.LOW)      def backward(self):         # Sets pin 1 to OFF and pin 2 to ON          GPIO.output(self.pinFwd, GPIO.LOW)         GPIO.output(self.Bwd, GPIO.HIGH)      def stop(self):      +   # Sets both pins to OFF          GPIO.output(self.pinFwd, GPIO.LOW)         GPIO.output(self.pinBwd, GPIO.LOW)    In the above code, a motor is defined by 2 main characteristics: a pin forward and a pin backward. The __init()__ method sets the two values for those pins, and methods forward(), backward(), and stop() cause the motor to spin clockwise, counterclockwise, and stop. The __del()__ method is called when the motor object leaves scope, which will close any open pin connections.  Now in another file, call it main.py, we can import the motor class and create object from it.  The main.py file:  import motor # imports our motor.py class import time  # Instantiates a motor using pins 7, 11 motor1 = motor.motor(7, 11)  motor1.forward()  time.sleep(2) # waits for 2 seconds   motor1.stop()  motor1.backward()  time.sleep(2)  motor.stop()    This file simply creates a motor object with pin 7 and pin 11 from the Raspberry Pi and moves the motor forward, backward, and stop.  To run this program, open up a terminal in the same location as the motor.py and main.py files and type python main.py. The motor will spin forward for 2 seconds, stop, then spin backwards for 2 seconds and stop.  Advancements  In this lesson, we only used 1 of the 2 motor heads available on the L298N chip. In future lessons, we will cover how to use both motor heads at the same time, as well as control the speed of the spin of the motors.">


  <meta name="author" content="Rohan S">
  
  <meta property="article:author" content="Rohan S">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Rohan's Coding Blog">
<meta property="og:title" content="Controlling Motor With Raspberry Pi And Python">
<meta property="og:url" content="https://marcopollom.github.io/personalprojects/motors/Controlling-Motor-With-Raspberry-Pi-and-Python">


  <meta property="og:description" content="Controlling a Single Motor using a Raspberry Pi and Python  In this lesson, we’re going see how we can control a DC motor using a Raspberry Pi and Python.  What is a Raspberry Pi?     “The Raspberry Pi is a low cost, credit-card sized computer that plugs into a computer monitor or TV, and uses a standard keyboard and mouse. It is a capable little device that enables people of all ages to explore computing, and to learn how to program in languages like Scratch and Python.” –Raspberry Pi Foundation   In short, a Raspberry Pi is a tiny computer that allows us to connect external hardware and integrate them using software.  Getting Started  Items Needed  For this project, I will be using the following items:    Raspberry Pi Model B running Raspbian   L298N Motor Drive Board   Bread Board   5V DC Motor   12V Power Supply   Jumper Cables   While you do not need exactly what I have, I recommend getting the L298N chip already on a PCB as it saves time and spares us from having to wire up the circuit ourselves.  Wiring  Before we can get to programing the motor, we must first wire up the device. We Can begin with the L298N Board.  For the L298N chip, we are only concerned about 6 pins for now. Those six include:    GND   In 3   In 4   12V   +   -      In this picture, the Brown wire and the Purple wire are both connected to GND, the Grey wire is connected to the 12V pin, the Red and Black wires are connected to + and - respectively, and the Blue and White wires are connected to pins In 3 and In 4.  On the Bread Board, we can connect the positive and negative ends of the power supply into their respective lines on the breadboard along with the leads from the pins of the L298N chip.    On the far right, the Grey(Positive) and White(Negative) wires are coming from the power supply and the far purple(Negative) and Grey(Positive) are coming from the L298N Chip.  Now we can wire up the motor to the board. Connect the Red(Positive) and Black(Negative) wires from the L298N to the motor leads.    Finally, we can wire up the Raspberry Pi to the rest of the circuit. Before we do so, lets look at the pin structure on the Pi.    Courtesy of the Raspberry Pi Foundation   The pins of the Raspberry Pi are numbered from 1 to 40 starting at the top left and increasing by 1 going to the right. Together, these pins are known as GPIO pins (General Purpose Input/Output Pins).  Each pin has a different purpose, but we’re going to only use pins 7, 11, and 39.  Pins 7 and 11 are going to be used to output a signal to the L298N Chip, and Pin 39 is a grounding pin, which will be connected to the same ground as the L298N Chip.    In the image above, the White wire is connected to Pin 7, the Blue wire is connected to Pin 11, and the Brown wire is connected to Pin 39.  Now that we are done with the wiring, we can start coding!  Programming the Raspberry Pi  To program our motor, we are going to use Python. If you are unfamiliar with the Python Programming language, feel free to visit my tutorial found here.  Our friend in this part will the the RPi.GPIO module.  Disclaimer : The Raspberry Pi foundation recommends using bespoke modules for specific hardware. Since we are trying to learn how to use GPIO pins to interface with any external sensors and motors, we will use the old way of interfacing with them.  We can consider using Object Oriented design when implementing our motors. In other words, our motor will be represented by a class.  In a file called motor.py, we will have the following code:  import RPi.GPIO as GPIO # Allows us to interface with the GPIO pins  class Motor:     # sets 2GPIO pins for clockwise and counter clockwise      def __init__(self, F, B):         self.pinFwd = F         self.pinBwd = B          GPIO.setmode(GPIO.BOARD) # Sets the pins to use the Board Numbering          GPIO.setup(self.pinFwd, GPIO.OUT) # Sets pin 1         GPIO.setup(self.pinBwd, GPIO.OUT) # Sets pin 2      def __del__(self):         # Destructor cleans up any open pins         GPIO.cleanup()       def forward(self):         # Sets pin 1 to ON and pin 2 to OFF         GPIO.output(self.pinFwd, GPIO.HIGH)         GPIO.output(self.pinBwd, GPIO.LOW)      def backward(self):         # Sets pin 1 to OFF and pin 2 to ON          GPIO.output(self.pinFwd, GPIO.LOW)         GPIO.output(self.Bwd, GPIO.HIGH)      def stop(self):      +   # Sets both pins to OFF          GPIO.output(self.pinFwd, GPIO.LOW)         GPIO.output(self.pinBwd, GPIO.LOW)    In the above code, a motor is defined by 2 main characteristics: a pin forward and a pin backward. The __init()__ method sets the two values for those pins, and methods forward(), backward(), and stop() cause the motor to spin clockwise, counterclockwise, and stop. The __del()__ method is called when the motor object leaves scope, which will close any open pin connections.  Now in another file, call it main.py, we can import the motor class and create object from it.  The main.py file:  import motor # imports our motor.py class import time  # Instantiates a motor using pins 7, 11 motor1 = motor.motor(7, 11)  motor1.forward()  time.sleep(2) # waits for 2 seconds   motor1.stop()  motor1.backward()  time.sleep(2)  motor.stop()    This file simply creates a motor object with pin 7 and pin 11 from the Raspberry Pi and moves the motor forward, backward, and stop.  To run this program, open up a terminal in the same location as the motor.py and main.py files and type python main.py. The motor will spin forward for 2 seconds, stop, then spin backwards for 2 seconds and stop.  Advancements  In this lesson, we only used 1 of the 2 motor heads available on the L298N chip. In future lessons, we will cover how to use both motor heads at the same time, as well as control the speed of the spin of the motors.">







  <meta property="article:published_time" content="2021-01-25T00:00:00-05:00">






<link rel="canonical" href="https://marcopollom.github.io/personalprojects/motors/Controlling-Motor-With-Raspberry-Pi-and-Python">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://marcopollom.github.io/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Rohan's Coding Blog Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BG2LXS3PB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BG2LXS3PB8');
</script>
  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Rohan's Coding Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/python/tutorial/Intro">Python Tutorial</a>
            </li><li class="masthead__menu-item">
              <a href="/editor/">Editor</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Controlling Motor With Raspberry Pi And Python">
    <meta itemprop="description" content="Controlling a Single Motor using a Raspberry Pi and PythonIn this lesson, we’re going see how we can control a DC motor using a Raspberry Pi and Python.What is a Raspberry Pi?  “The Raspberry Pi is a low cost, credit-card sized computer that plugs into a computer monitor or TV, and uses a standard keyboard and mouse. It is a capable little device that enables people of all ages to explore computing, and to learn how to program in languages like Scratch and Python.” –Raspberry Pi FoundationIn short, a Raspberry Pi is a tiny computer that allows us to connect external hardware and integrate them using software.Getting StartedItems NeededFor this project, I will be using the following items:  Raspberry Pi Model B running Raspbian  L298N Motor Drive Board  Bread Board  5V DC Motor  12V Power Supply  Jumper CablesWhile you do not need exactly what I have, I recommend getting the L298N chip already on a PCB as it saves time and spares us from having to wire up the circuit ourselves.WiringBefore we can get to programing the motor, we must first wire up the device. We Can begin with the L298N Board.For the L298N chip, we are only concerned about 6 pins for now. Those six include:  GND  In 3  In 4  12V  +  -In this picture, the Brown wire and the Purple wire are both connected to GND, the Grey wire is connected to the 12V pin, the Red and Black wires are connected to + and - respectively, and the Blue and White wires are connected to pins In 3 and In 4.On the Bread Board, we can connect the positive and negative ends of the power supply into their respective lines on the breadboard along with the leads from the pins of the L298N chip.On the far right, the Grey(Positive) and White(Negative) wires are coming from the power supply and the far purple(Negative) and Grey(Positive) are coming from the L298N Chip.Now we can wire up the motor to the board. Connect the Red(Positive) and Black(Negative) wires from the L298N to the motor leads.Finally, we can wire up the Raspberry Pi to the rest of the circuit. Before we do so, lets look at the pin structure on the Pi.Courtesy of the Raspberry Pi FoundationThe pins of the Raspberry Pi are numbered from 1 to 40 starting at the top left and increasing by 1 going to the right. Together, these pins are known as GPIO pins (General Purpose Input/Output Pins).Each pin has a different purpose, but we’re going to only use pins 7, 11, and 39.Pins 7 and 11 are going to be used to output a signal to the L298N Chip, and Pin 39 is a grounding pin, which will be connected to the same ground as the L298N Chip.In the image above, the White wire is connected to Pin 7, the Blue wire is connected to Pin 11, and the Brown wire is connected to Pin 39.Now that we are done with the wiring, we can start coding!Programming the Raspberry PiTo program our motor, we are going to use Python. If you are unfamiliar with the Python Programming language, feel free to visit my tutorial found here.Our friend in this part will the the RPi.GPIO module.Disclaimer : The Raspberry Pi foundation recommends using bespoke modules for specific hardware. Since we are trying to learn how to use GPIO pins to interface with any external sensors and motors, we will use the old way of interfacing with them.We can consider using Object Oriented design when implementing our motors. In other words, our motor will be represented by a class.In a file called motor.py, we will have the following code:import RPi.GPIO as GPIO # Allows us to interface with the GPIO pinsclass Motor:    # sets 2GPIO pins for clockwise and counter clockwise     def __init__(self, F, B):        self.pinFwd = F        self.pinBwd = B        GPIO.setmode(GPIO.BOARD) # Sets the pins to use the Board Numbering        GPIO.setup(self.pinFwd, GPIO.OUT) # Sets pin 1        GPIO.setup(self.pinBwd, GPIO.OUT) # Sets pin 2    def __del__(self):        # Destructor cleans up any open pins        GPIO.cleanup()     def forward(self):        # Sets pin 1 to ON and pin 2 to OFF        GPIO.output(self.pinFwd, GPIO.HIGH)        GPIO.output(self.pinBwd, GPIO.LOW)    def backward(self):        # Sets pin 1 to OFF and pin 2 to ON        GPIO.output(self.pinFwd, GPIO.LOW)        GPIO.output(self.Bwd, GPIO.HIGH)    def stop(self):     +   # Sets both pins to OFF        GPIO.output(self.pinFwd, GPIO.LOW)        GPIO.output(self.pinBwd, GPIO.LOW)In the above code, a motor is defined by 2 main characteristics: a pin forward and a pin backward. The __init()__ method sets the two values for those pins, and methods forward(), backward(), and stop() cause the motor to spin clockwise, counterclockwise, and stop. The __del()__ method is called when the motor object leaves scope, which will close any open pin connections.Now in another file, call it main.py, we can import the motor class and create object from it.The main.py file:import motor # imports our motor.py classimport time# Instantiates a motor using pins 7, 11motor1 = motor.motor(7, 11)motor1.forward()time.sleep(2) # waits for 2 seconds motor1.stop()motor1.backward()time.sleep(2)motor.stop()This file simply creates a motor object with pin 7 and pin 11 from the Raspberry Pi and moves the motor forward, backward, and stop.To run this program, open up a terminal in the same location as the motor.py and main.py files and type python main.py. The motor will spin forward for 2 seconds, stop, then spin backwards for 2 seconds and stop.AdvancementsIn this lesson, we only used 1 of the 2 motor heads available on the L298N chip. In future lessons, we will cover how to use both motor heads at the same time, as well as control the speed of the spin of the motors.">
    <meta itemprop="datePublished" content="2021-01-25T00:00:00-05:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Controlling Motor With Raspberry Pi And Python
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2 id="controlling-a-single-motor-using-a-raspberry-pi-and-python">Controlling a Single Motor using a Raspberry Pi and Python</h2>

<p>In this lesson, we’re going see how we can control a DC motor using a Raspberry Pi and Python.</p>

<h3 id="what-is-a-raspberry-pi">What is a Raspberry Pi?</h3>

<blockquote>
  <p>“The Raspberry Pi is a low cost, credit-card sized computer that plugs into a computer monitor or TV, and uses a standard keyboard and mouse. It is a capable little device that enables people of all ages to explore computing, and to learn how to program in languages like Scratch and Python.” –Raspberry Pi Foundation</p>
</blockquote>

<p>In short, a Raspberry Pi is a tiny computer that allows us to connect external hardware and integrate them using software.</p>

<h3 id="getting-started">Getting Started</h3>

<h4 id="items-needed">Items Needed</h4>

<p>For this project, I will be using the following items:</p>
<ul>
  <li><a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b/">Raspberry Pi Model B</a> running Raspbian</li>
  <li><a href="https://www.amazon.com/s?k=L298N+Motor+Driver+Module&amp;ref=nb_sb_noss">L298N Motor Drive Board</a></li>
  <li>Bread Board</li>
  <li>5V DC Motor</li>
  <li>12V Power Supply</li>
  <li>Jumper Cables</li>
</ul>

<p>While you do not need exactly what I have, I recommend getting the L298N chip already on a PCB as it saves time and spares us from having to wire up the circuit ourselves.</p>

<h4 id="wiring">Wiring</h4>

<p>Before we can get to programing the motor, we must first wire up the device. We Can begin with the L298N Board.</p>

<p>For the L298N chip, we are only concerned about 6 pins for now. Those six include:</p>
<ul>
  <li>GND</li>
  <li>In 3</li>
  <li>In 4</li>
  <li>12V</li>
  <li><code class="language-plaintext highlighter-rouge">+</code></li>
  <li><code class="language-plaintext highlighter-rouge">-</code></li>
</ul>
<style>
.rotate90 {
    -webkit-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
    transform: rotate(90deg);
}

.rotate270 {
    -webkit-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
    transform: rotate(270deg);
}

img{
display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%;
}

</style>

<p><img src="../../../assets/images/IMG-1482.jpg" class="rotate90" width="500" height="350" /></p>

<p>In this picture, the <strong>Brown</strong> wire and the <strong>Purple</strong> wire are both connected to GND, the <strong>Grey</strong> wire is connected to the 12V pin, the <strong>Red</strong> and <strong>Black</strong> wires are connected to <code class="language-plaintext highlighter-rouge">+</code> and <code class="language-plaintext highlighter-rouge">-</code> respectively, and the <strong>Blue</strong> and <strong>White</strong> wires are connected to pins <code class="language-plaintext highlighter-rouge">In 3</code> and <code class="language-plaintext highlighter-rouge">In 4</code>.</p>

<p>On the Bread Board, we can connect the positive and negative ends of the power supply into their respective lines on the breadboard along with the leads from the pins of the L298N chip.</p>

<p><img src="../../../assets/images/IMG-1483.jpg" class="rotate270" /></p>

<p>On the far right, the <strong>Grey</strong>(Positive) and <strong>White</strong>(Negative) wires are coming from the power supply and the far <strong>purple</strong>(Negative) and <strong>Grey</strong>(Positive) are coming from the L298N Chip.</p>

<p>Now we can wire up the motor to the board. Connect the <strong>Red</strong>(Positive) and <strong>Black</strong>(Negative) wires from the L298N to the motor leads.</p>

<p><img src="../../../assets/images/IMG-1487.jpg" class="rotate270" /></p>

<p>Finally, we can wire up the Raspberry Pi to the rest of the circuit. Before we do so, lets look at the pin structure on the Pi.</p>

<figure>
<img src="../../../assets/images/GPIO-Pinout-Diagram-2.png" />
<figcaption>Courtesy of the Raspberry Pi Foundation</figcaption>
</figure>

<p>The pins of the Raspberry Pi are numbered from 1 to 40 starting at the top left and increasing by 1 going to the right. Together, these pins are known as GPIO pins (General Purpose Input/Output Pins).</p>

<p>Each pin has a different purpose, but we’re going to only use pins 7, 11, and 39.</p>

<p>Pins 7 and 11 are going to be used to output a signal to the L298N Chip, and Pin 39 is a grounding pin, which will be connected to the same ground as the L298N Chip.</p>

<p><img src="../../../assets/images/IMG-1486.jpg" class="rotate270" /></p>

<p>In the image above, the <strong>White</strong> wire is connected to Pin 7, the <strong>Blue</strong> wire is connected to Pin 11, and the <strong>Brown</strong> wire is connected to Pin 39.</p>

<p>Now that we are done with the wiring, we can start coding!</p>

<h4 id="programming-the-raspberry-pi">Programming the Raspberry Pi</h4>

<p>To program our motor, we are going to use Python. If you are unfamiliar with the Python Programming language, feel free to visit my tutorial found <a href="https://marcopollom.github.io/python/tutorial/Intro">here</a>.</p>

<p>Our friend in this part will the the <code class="language-plaintext highlighter-rouge">RPi.GPIO</code> module.</p>

<p><strong><em>Disclaimer</em></strong> : The Raspberry Pi foundation recommends using bespoke modules for specific hardware. Since we are trying to learn how to use GPIO pins to interface with any external sensors and motors, we will use the old way of interfacing with them.</p>

<p>We can consider using Object Oriented design when implementing our motors. In other words, our motor will be represented by a <code class="language-plaintext highlighter-rouge">class</code>.</p>

<p>In a file called <code class="language-plaintext highlighter-rouge">motor.py</code>, we will have the following code:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">RPi.GPIO</span> <span class="k">as</span> <span class="n">GPIO</span> <span class="c1"># Allows us to interface with the GPIO pins
</span>
<span class="k">class</span> <span class="nc">Motor</span><span class="p">:</span>
    <span class="c1"># sets 2GPIO pins for clockwise and counter clockwise 
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">pinFwd</span> <span class="o">=</span> <span class="n">F</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">pinBwd</span> <span class="o">=</span> <span class="n">B</span>

        <span class="n">GPIO</span><span class="p">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="p">.</span><span class="n">BOARD</span><span class="p">)</span> <span class="c1"># Sets the pins to use the Board Numbering
</span>
        <span class="n">GPIO</span><span class="p">.</span><span class="n">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">pinFwd</span><span class="p">,</span> <span class="n">GPIO</span><span class="p">.</span><span class="n">OUT</span><span class="p">)</span> <span class="c1"># Sets pin 1
</span>        <span class="n">GPIO</span><span class="p">.</span><span class="n">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">pinBwd</span><span class="p">,</span> <span class="n">GPIO</span><span class="p">.</span><span class="n">OUT</span><span class="p">)</span> <span class="c1"># Sets pin 2
</span>
    <span class="k">def</span> <span class="nf">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Destructor cleans up any open pins
</span>        <span class="n">GPIO</span><span class="p">.</span><span class="n">cleanup</span><span class="p">()</span> 

    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Sets pin 1 to ON and pin 2 to OFF
</span>        <span class="n">GPIO</span><span class="p">.</span><span class="n">output</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">pinFwd</span><span class="p">,</span> <span class="n">GPIO</span><span class="p">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="p">.</span><span class="n">output</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">pinBwd</span><span class="p">,</span> <span class="n">GPIO</span><span class="p">.</span><span class="n">LOW</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">backward</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Sets pin 1 to OFF and pin 2 to ON
</span>
        <span class="n">GPIO</span><span class="p">.</span><span class="n">output</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">pinFwd</span><span class="p">,</span> <span class="n">GPIO</span><span class="p">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="p">.</span><span class="n">output</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">Bwd</span><span class="p">,</span> <span class="n">GPIO</span><span class="p">.</span><span class="n">HIGH</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="o">+</span>   <span class="c1"># Sets both pins to OFF
</span>
        <span class="n">GPIO</span><span class="p">.</span><span class="n">output</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">pinFwd</span><span class="p">,</span> <span class="n">GPIO</span><span class="p">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="p">.</span><span class="n">output</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">pinBwd</span><span class="p">,</span> <span class="n">GPIO</span><span class="p">.</span><span class="n">LOW</span><span class="p">)</span>

</code></pre></div></div>

<p>In the above code, a motor is defined by 2 main characteristics: a <code class="language-plaintext highlighter-rouge">pin forward</code> and a <code class="language-plaintext highlighter-rouge">pin backward</code>. The <code class="language-plaintext highlighter-rouge">__init()__</code> method sets the two values for those pins, and methods <code class="language-plaintext highlighter-rouge">forward()</code>, <code class="language-plaintext highlighter-rouge">backward()</code>, and <code class="language-plaintext highlighter-rouge">stop()</code> cause the motor to spin clockwise, counterclockwise, and stop. The <code class="language-plaintext highlighter-rouge">__del()__</code> method is called when the <code class="language-plaintext highlighter-rouge">motor</code> object leaves scope, which will close any open pin connections.</p>

<p>Now in another file, call it <code class="language-plaintext highlighter-rouge">main.py</code>, we can import the <code class="language-plaintext highlighter-rouge">motor class</code> and create object from it.</p>

<p>The <code class="language-plaintext highlighter-rouge">main.py</code> file:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">motor</span> <span class="c1"># imports our motor.py class
</span><span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Instantiates a motor using pins 7, 11
</span><span class="n">motor1</span> <span class="o">=</span> <span class="n">motor</span><span class="p">.</span><span class="n">motor</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>

<span class="n">motor1</span><span class="p">.</span><span class="n">forward</span><span class="p">()</span>

<span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># waits for 2 seconds 
</span>
<span class="n">motor1</span><span class="p">.</span><span class="n">stop</span><span class="p">()</span>

<span class="n">motor1</span><span class="p">.</span><span class="n">backward</span><span class="p">()</span>

<span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">motor</span><span class="p">.</span><span class="n">stop</span><span class="p">()</span>

</code></pre></div></div>

<p>This file simply creates a motor object with pin 7 and pin 11 from the Raspberry Pi and moves the motor forward, backward, and stop.</p>

<p>To run this program, open up a terminal in the same location as the <code class="language-plaintext highlighter-rouge">motor.py</code> and <code class="language-plaintext highlighter-rouge">main.py</code> files and type <code class="language-plaintext highlighter-rouge">python main.py</code>. The motor will spin forward for 2 seconds, stop, then spin backwards for 2 seconds and stop.</p>

<h4 id="advancements">Advancements</h4>

<p>In this lesson, we only used 1 of the 2 motor heads available on the L298N chip. In future lessons, we will cover how to use both motor heads at the same time, as well as control the speed of the spin of the motors.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-01-25T00:00:00-05:00">January 25, 2021</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python/tutorial/Modules" class="pagination--pager" title="Modules
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/python/tutorial/Modules" rel="permalink">Modules
</a>
      
    </h2>
    


    <p class="archive__item-excerpt" itemprop="description">As we code more and more, our Python files tend to get larger and harder to maintain. Fortunately, Python allows us to split up our program into different fi...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/python/tutorial/List-Comprehension" rel="permalink">List Comprehension
</a>
      
    </h2>
    


    <p class="archive__item-excerpt" itemprop="description">List comprehension allows us to easily fill out contents of a list in a single line of code.

For example, if we wanted to fill a list with the first 5 even ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/python/tutorial/String-Formatting" rel="permalink">String Formatting
</a>
      
    </h2>
    


    <p class="archive__item-excerpt" itemprop="description">In this lesson we will cover different ways to format strings in Python.

What if we wanted to create a function that greets a user when the function is call...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/python/tutorial/Error-Handling" rel="permalink">Error Handling
</a>
      
    </h2>
    


    <p class="archive__item-excerpt" itemprop="description">By now, you may have come across various errors in your Python programs. No worry, everyone makes mistakes the first time around. In this lesson, we will cov...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
    <ul class="social-icons">
      
  
      
        
          
            <li><a href="https://github.com/Marcopollom" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
      
  
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    </ul>
  </div>
  
  <div class="page__footer-copyright">&copy; 2021 Rohan's Coding Blog.</div>
  
      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BG2LXS3PB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BG2LXS3PB8');
</script>





  </body>
</html>
